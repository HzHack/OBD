<!DOCTYPE html>
<html lang="ar" dir="rtl"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒÙ†ÙŠÙƒ Ø¨Ø±Ùˆ</title>
    <meta name="description" content="Ù…Ù†ØµØ© Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù…Ø¹ ØªØµÙ†ÙŠÙ Ø¯Ù‚ÙŠÙ‚ Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª (Ø£Ù…Ø±ÙŠÙƒÙŠØŒ ÙƒÙˆØ±ÙŠØŒ ØµÙŠÙ†ÙŠØŒ ÙŠØ§Ø¨Ø§Ù†ÙŠØŒ Ø£Ù„Ù…Ø§Ù†ÙŠ).">
    
    <!-- Ø®Ø· Ø¹Ø±ÙŠØ¶ ÙˆÙ…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ (Cairo) -->
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;800;900&amp;display=swap" rel="stylesheet">

    <style>
        /* ==========================================
           Ø«ÙŠÙ… "Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ" (Industrial Dark)
           ========================================== */
        :root {
            --primary: #f97316; /* Ø¨Ø±ØªÙ‚Ø§Ù„ÙŠ */
            --primary-hover: #ea580c;
            --dark-bg: #121212;
            --panel-bg: #1e293b;
            --text-light: #f1f5f9;
            --text-dim: #94a3b8;
            --border-metal: #334155;
            --shadow-hard: 4px 4px 0px #000;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; outline: none; }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
            line-height: 1.6;
            background-image: radial-gradient(#334155 1px, transparent 1px);
            background-size: 20px 20px;
        }

        /* Header */
        header {
            background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
            border-bottom: 3px solid var(--primary);
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }

        header h1 {
            font-weight: 900;
            font-size: 2.2rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-light);
            text-shadow: 2px 2px 0px var(--primary);
        }

        header p { color: var(--text-dim); font-size: 1rem; margin-top: 5px; }

        .container { max-width: 1100px; margin: 0 auto; padding: 1rem; }

        .card {
            background-color: var(--panel-bg);
            border: 2px solid var(--border-metal);
            border-radius: 4px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: var(--shadow-hard);
            position: relative;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; width: 100%; height: 4px;
            background: repeating-linear-gradient(45deg, var(--primary), var(--primary) 10px, #000 10px, #000 20px);
        }

        h2.section-title {
            color: var(--primary);
            margin-bottom: 1.5rem;
            border-bottom: 2px dashed var(--border-metal);
            padding-bottom: 10px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-box { display: flex; gap: 10px; flex-wrap: wrap; }

        input[type="text"], input[type="number"], select {
            background: #0f172a;
            border: 2px solid var(--border-metal);
            color: var(--text-light);
            padding: 12px;
            font-family: 'Cairo', sans-serif;
            font-weight: 600;
            border-radius: 4px;
            width: 100%;
            transition: border-color 0.3s;
        }

        input:focus { border-color: var(--primary); }

        .btn {
            background-color: var(--primary);
            color: #000;
            padding: 12px 25px;
            border: none;
            font-weight: 900;
            cursor: pointer;
            border-radius: 4px;
            text-transform: uppercase;
            box-shadow: 3px 3px 0px rgba(0,0,0,0.5);
            transition: all 0.2s;
            font-family: 'Cairo', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translate(-1px, -1px);
            box-shadow: 4px 4px 0px rgba(0,0,0,0.8);
            background-color: var(--primary-hover);
        }

        .btn:active { transform: translate(1px, 1px); box-shadow: 0px 0px 0px; }

        .btn-secondary { background-color: #334155; color: #fff; border: 1px solid #475569; }
        .btn-secondary:hover { background-color: #475569; }
        .btn-ai { background: linear-gradient(45deg, #3b82f6, #8b5cf6); color: #fff; }

        .result-box {
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-metal);
            padding: 1rem;
            margin-top: 1rem;
            display: none;
            border-radius: 4px;
        }
        .result-box.active { display: block; animation: slideIn 0.3s; }
        
        .code-display {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--primary);
            letter-spacing: 2px;
        }

        .calc-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .calc-item {
            background: #151f2e;
            padding: 15px;
            border: 1px solid var(--border-metal);
        }
        .calc-item h3 { color: var(--text-light); margin-bottom: 10px; font-size: 1.1rem; }

        .table-container { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; min-width: 600px; }
        th, td { padding: 12px; text-align: right; border-bottom: 1px solid var(--border-metal); font-size: 0.9rem; }
        th { background-color: #0f172a; color: var(--primary); font-weight: 800; }
        tr:hover { background-color: rgba(255,255,255,0.05); cursor: pointer; }

        footer {
            background-color: #0f172a;
            border-top: 4px solid var(--border-metal);
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
        }
        .social-link {
            color: var(--text-light);
            text-decoration: none;
            margin: 0 10px;
            font-weight: bold;
            border: 1px solid var(--primary);
            padding: 5px 15px;
            border-radius: 4px;
        }
        .social-link:hover { background: var(--primary); color: #000; }

        @keyframes slideIn { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes spin { 100% { transform: rotate(360deg); } }

        @media (max-width: 600px) {
            header h1 { font-size: 1.5rem; }
            .btn { width: 100%; }
        }
    </style>
</head>
<body>

    <header>
        <h1>ğŸ”§ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ Ø¨Ø±Ùˆ OBD-II&nbsp;</h1>
        <p>&nbsp;Ø£Ù…Ø±ÙŠÙƒÙŠ - ÙƒÙˆØ±ÙŠ - ØµÙŠÙ†ÙŠ - ÙŠØ§Ø¨Ø§Ù†ÙŠ - Ø£Ù„Ù…Ø§Ù†ÙŠ</p>
    </header>

    <div class="container">

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø­Ø« -->
        <section class="card">
            <h2 class="section-title">ğŸ” ØªØ´Ø®ÙŠØµ ÙƒÙˆØ¯ Ø§Ù„Ø¹Ø·Ù„</h2>
            <div class="search-box">
                <input type="text" id="codeInput" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ (Ù…Ø«Ø§Ù„: P0171, C0035)" style="flex: 2;">
                <button class="btn" onclick="searchCode()">
                    <span>ğŸ› ï¸</span> Ø¨Ø­Ø«
                </button>
                <button class="btn btn-ai" onclick="aiAnalyze()">
                    <span>ğŸ¤–</span> ØªØ­Ù„ÙŠÙ„ Ø°ÙƒÙŠ
                </button>
            </div>
            <div id="errorMsg" style="color: #ef4444; margin-top:10px; display:none; font-weight:bold;"></div>

            <div id="resultCard" class="result-box">
                <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #334155; padding-bottom:10px; margin-bottom:15px;">
                    <span id="resCode" class="code-display">P0000</span>
                    <span id="resBrand" style="background:var(--primary); color:#000; padding:2px 10px; font-weight:bold; border-radius:2px;">Ø¹Ø§Ù…</span>
                </div>
                <div style="display: grid; gap: 15px;">
                    <div><strong style="color:var(--primary)">âš ï¸ Ø§Ù„Ø¹Ø·Ù„:</strong> <span id="resMeaning">-</span></div>
                    <div><strong style="color:var(--text-dim)">âš™ï¸ Ø§Ù„Ø³Ø¨Ø¨ Ø§Ù„Ù…Ø­ØªÙ…Ù„:</strong> <span id="resCause">-</span></div>
                    <div><strong style="color:var(--text-dim)">ğŸ”© Ø§Ù„Ø­Ù„:</strong> <span id="resSolution">-</span></div>
                </div>
            </div>
            <div id="aiLoading" style="display:none; text-align:center; padding:20px; color:var(--primary);">
                <div style="font-size:2rem; animation:spin 1s infinite linear;">âš™ï¸</div>
                <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©...</p>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ø³Ø¨Ø§Øª -->
        <section class="card">
            <h2 class="section-title">ğŸ§® Ø£Ø¯ÙˆØ§Øª Ø§Ù„ÙÙ†ÙŠ</h2>
            <div class="calc-grid">
                <div class="calc-item">
                    <h3>ğŸï¸ Ø³Ø¹Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ (CC)</h3>
                    <input type="number" id="bore" placeholder="Ù‚Ø·Ø± Ø§Ù„Ø§Ø³Ø·ÙˆØ§Ù†Ø© (Ù…Ù…)">
                    <input type="number" id="stroke" placeholder="Ø´ÙˆØ· Ø§Ù„Ù…ÙƒØ¨Ø³ (Ù…Ù…)" style="margin-top:10px;">
                    <input type="number" id="cylinders" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø³Ø·ÙˆØ§Ù†Ø§Øª" style="margin-top:10px;">
                    <button class="btn" style="width:100%; margin-top:15px;" onclick="calcEngineCC()">Ø§Ø­Ø³Ø¨</button>
                    <div id="resEngine" class="result-box"></div>
                </div>
                <div class="calc-item">
                    <h3>â›½ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯</h3>
                    <input type="number" id="kmDriven" placeholder="Ø§Ù„Ù…Ø³Ø§ÙØ© (ÙƒÙ…)">
                    <input type="number" id="litersFilled" placeholder="Ø§Ù„ÙˆÙ‚ÙˆØ¯ (Ù„ØªØ±)" style="margin-top:10px;">
                    <button class="btn" style="width:100%; margin-top:15px;" onclick="calcFuel()">Ø§Ø­Ø³Ø¨</button>
                    <div id="resFuel" class="result-box"></div>
                </div>
                <div class="calc-item">
                    <h3>âšªï¸ Ù…Ù‚Ø§Ø³ Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª</h3>
                    <input type="text" id="tireSize" placeholder="Ù…Ø«Ø§Ù„: 205/55 R16">
                    <button class="btn" style="width:100%; margin-top:15px;" onclick="calcTire()">Ø¹Ø±Ø¶ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª</button>
                    <div id="resTire" class="result-box"></div>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙˆÙ„ (Ø§Ù„Ù…ØµÙ†Ù) -->
        <section class="card">
            <h2 class="section-title">ğŸ“‘ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ (Ù…ØµÙ†ÙØ©)</h2>
            <div class="tabs" style="margin-bottom:15px; display:flex; gap:10px; overflow-x:auto; padding-bottom:5px;">
                <button class="btn btn-secondary" onclick="filterTable('all', this)">Ø§Ù„ÙƒÙ„ (World)</button>
                <button class="btn btn-secondary" onclick="filterTable('American', this)">Ø£Ù…Ø±ÙŠÙƒÙŠ ğŸ‡ºğŸ‡¸</button>
                <button class="btn btn-secondary" onclick="filterTable('Japanese', this)">ÙŠØ§Ø¨Ø§Ù†ÙŠ ğŸ‡¯ğŸ‡µ</button>
                <button class="btn btn-secondary" onclick="filterTable('German', this)">Ø£Ù„Ù…Ø§Ù†ÙŠ ğŸ‡©ğŸ‡ª</button>
                <button class="btn btn-secondary" onclick="filterTable('Korean', this)">ÙƒÙˆØ±ÙŠ ğŸ‡°ğŸ‡·</button>
                <button class="btn btn-secondary" onclick="filterTable('Chinese', this)">ØµÙŠÙ†ÙŠ ğŸ‡¨ğŸ‡³</button>
            </div>
            <div class="table-container">
                <table id="codesTable">
                    <thead>
                        <tr><th>Ø§Ù„ÙƒÙˆØ¯</th><th>Ø§Ù„Ø¹Ø·Ù„</th><th>Ø§Ù„Ø´Ø±ÙƒØ©</th></tr>
                    </thead>
                    <tbody id="tableBody"></tbody>
                </table>
            </div>
            <p style="text-align:center; padding:10px; color:var(--text-dim); font-size:0.8rem;">
                * Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙŠØ¹Ø±Ø¶ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒÙ„ Ø´Ø±ÙƒØ©ØŒ Ø¨Ø­Ø« Ø§Ù„Ù…ØªØµÙØ­ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ ÙŠØ¨Ø­Ø« ÙÙŠ ÙƒØ§Ù…Ù„ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©.
            </p>
        </section>

    </div>

    <footer>
        <h3 style="color:var(--primary); font-weight:900; margin-bottom:10px;">ØªÙ… Ø§Ù„ØªØ·ÙˆÙŠØ± Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ø¨Ùˆ Ø¹Ø³Ø§Ù Hz</h3>
        <div style="display:flex; justify-content:center; gap:15px; margin-top:15px;">
            <a href="https://snapchat.com/add/sww_p" target="_blank" class="social-link">Snapchat</a>
            <a href="https://instagram.com/sww_p" target="_blank" class="social-link">Instagram</a>
            <a href="https://twitter.com/sww_p" target="_blank" class="social-link">Twitter</a>
        </div>
        <p style="margin-top:20px; font-size:0.8rem; color:#64748b;">&nbsp;Â© OBD Pro Tools 2026&nbsp;</p>
    </footer>

    <script>
        /* ==========================================
           1. Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (ØªÙ†Ø¸ÙŠÙ ÙˆØªÙ‚Ø³ÙŠÙ… Ø¯Ù‚ÙŠÙ‚)
           ========================================== */
        let fullDatabase = [];
        function addCode(c, m, ca, s, b, o) {
            fullDatabase.push({ code: c, meaning: m, cause: ca, solution: s, brand: b, origin: o });
        }

        // --- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„ÙŠØ¯ÙˆÙŠØ© ÙˆØ§Ù„Ù…ØµÙ†ÙØ© ---
        
        // 1. Ø£Ù…Ø±ÙŠÙƒÙŠ (American) - Ford, GM, Chrysler, Dodge
        const americanCodes = [
            {c: "P0171", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹ (Bank 1)", ca: "ØªØ³Ø±ÙŠØ¨ Ù‡ÙˆØ§Ø¡ØŒ Ø£Ù†Ø¨ÙˆØ¨ MAF", s: "ÙØ­Øµ Ø®Ø±Ø§Ø·ÙŠÙ… Ø§Ù„ØªÙ‡ÙˆÙŠØ©", b: "Ford", o: "American"},
            {c: "P0172", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ ØºÙ†ÙŠ Ø¬Ø¯Ø§Ù‹ (Bank 1)", ca: "Ø¶ØºØ· ÙˆÙ‚ÙˆØ¯ Ø¹Ø§Ù„ÙŠØŒ Regulator", s: "ÙØ­Øµ Ù…Ù†Ø¸Ù… Ø¶ØºØ· Ø§Ù„ÙˆÙ‚ÙˆØ¯", b: "GM", o: "American"},
            {c: "P0300", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ / Ù…ØªØ¹Ø¯Ø¯", ca: "Ø´Ù…Ø¹Ø§ØªØŒ Ù…Ù„ÙØ§ØªØŒ Ø­Ù‚Ù†", s: "ÙØ­Øµ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ù„", b: "Chevy", o: "American"},
            {c: "P0301", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø£Ø³Ø·ÙˆØ§Ù†Ø© 1", ca: "Ù…Ù„Ù Ø¥Ø´Ø¹Ø§Ù„ Coil-on-Plug", s: "ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù ÙˆØ§Ù„Ø´Ù…Ø¹Ø©", b: "Ford", o: "American"},
            {c: "P0401", m: "ØªØ¯ÙÙ‚ EGR ØºÙŠØ± ÙƒØ§ÙÙ", ca: "ØµÙ…Ø§Ù… EGR Ù…Ø³Ø¯ÙˆØ¯ØŒ Ù‚Ù†ÙˆØ§Øª Ù…ØªØ³Ø®Ø©", s: "ØªÙ†Ø¸ÙŠÙ ØµÙ…Ø§Ù… EGR", b: "Ford", o: "American"},
            {c: "P0410", m: "Ù†Ø¸Ø§Ù… Ø§Ù„Ø¶Ø® Ø§Ù„Ø«Ø§Ù†ÙˆÙŠ (AIR)", ca: "Ù…Ø¶Ø®Ø© Ù‡ÙˆØ§Ø¡ØŒ ØµÙ…Ø§Ù…", s: "ÙØ­Øµ Ø§Ù„Ù…Ø¶Ø®Ø©", b: "GM", o: "American"},
            {c: "P0133", m: "Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø­Ø³Ø§Ø³ O2 Ø¨Ø·ÙŠØ¦Ø©", ca: "Ø­Ø³Ø§Ø³ O2 Ù‚Ø¯ÙŠÙ…", s: "ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø³", b: "Ford", o: "American"},
            {c: "P0440", m: "Ø¹Ø·Ù„ Ø¹Ø§Ù… ÙÙŠ Ù†Ø¸Ø§Ù… Evap", ca: "ØºØ·Ø§Ø¡ Ø¨Ù†Ø²ÙŠÙ†ØŒ Ø®Ø±Ø·ÙˆÙ…", s: "ÙØ­Øµ Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯", b: "Chrysler", o: "American"},
            {c: "P0442", m: "ØªØ³Ø±ÙŠØ¨ ØµØºÙŠØ± ÙÙŠ Ù†Ø¸Ø§Ù… Evap", ca: "Ø®Ø±Ø·ÙˆÙ… Ù…Ø­ØªØ±Ù‚", s: "ÙØ­Øµ Ø¨Ø§Ù„Ø¯Ø®Ø§Ù†", b: "GM", o: "American"},
            {c: "P0455", m: "ØªØ³Ø±ÙŠØ¨ ÙƒØ¨ÙŠØ± ÙÙŠ Ù†Ø¸Ø§Ù… Evap", ca: "ØºØ·Ø§Ø¡ Ø§Ù„Ø®Ø²Ø§Ù† Ù…ÙÙ‚ÙˆØ¯", s: "ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØºØ·Ø§Ø¡", b: "Dodge", o: "American"},
            {c: "P0500", m: "Ø¥Ø´Ø§Ø±Ø© Ø­Ø³Ø§Ø³ Ø³Ø±Ø¹Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø©", ca: "VSS ØªØ§Ù„Ù", s: "ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø³", b: "GM", o: "American"},
            {c: "P0601", m: "Ø®Ø·Ø£ Ø°Ø§ÙƒØ±Ø© ÙˆØ­Ø¯Ø© Ø§Ù„ØªØ­ÙƒÙ…", ca: "PCM ØªØ§Ù„Ù", s: "Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ø±Ù…Ø¬Ø© Ø£Ùˆ ØªØ¨Ø¯ÙŠÙ„", b: "Chrysler", o: "American"},
            {c: "P1289", m: "Ù…ÙØªØ§Ø­ ICP Ø¹Ø§Ù„ÙŠ / Ù…Ù†Ø®ÙØ¶", ca: "Ø¶ØºØ· Ø²ÙŠØª Ø­Ù‚Ù†", s: "ÙØ­Øµ ICP Sensor", b: "Powerstroke", o: "American"}
        ];

        // 2. ÙƒÙˆØ±ÙŠ (Korean) - Hyundai, Kia, SsangYong
        const koreanCodes = [
            {c: "P2096", m: "Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø®Ù„Ù Ø§Ù„Ù…Ø­ÙØ§Ø² Ø¶Ø¹ÙŠÙØ© (Bank 1)", ca: "Ø­Ø³Ø§Ø³ O2 Ø®Ù„ÙÙŠ", s: "ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø³", b: "Hyundai", o: "Korean"},
            {c: "P0101", m: "Ù†Ø·Ø§Ù‚/Ø£Ø¯Ø§Ø¡ MAF", ca: "Ø³Ù„Ùƒ ØªÙˆØµÙŠÙ„ØŒ Ø­Ø³Ø§Ø³ Ù…ØªØ³Ø®", s: "ÙØ­Øµ Ø§Ù„ØªÙˆØµÙŠÙ„Ø§Øª", b: "Kia", o: "Korean"},
            {c: "P0171", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹ (Bank 1)", ca: "ØªØ³Ø±ÙŠØ¨ ÙØ±Ø§Øº ÙÙŠ Ø§Ù„Ù…Ø´Ø¹Ø¨", s: "ÙØ­Øµ Ø§Ù„Ù…Ø´Ø¹Ø¨", b: "Hyundai", o: "Korean"},
            {c: "P0174", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø¶Ø¹ÙŠÙ (Bank 2)", ca: "ØªØ³Ø±ÙŠØ¨ Ù‡ÙˆØ§Ø¡", s: "ÙØ­Øµ Ø§Ù„Ù…Ø´Ø¹Ø¨", b: "Hyundai", o: "Korean"},
            {c: "P0175", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ ØºÙ†ÙŠ Ø¬Ø¯Ø§Ù‹ (Bank 2)", ca: "ØªØ³Ø±ÙŠØ¨ Ø­Ù‚Ù†", s: "ÙØ­Øµ Ø§Ù„Ø­Ø§Ù‚Ù†Ø§Øª", b: "Kia", o: "Korean"},
            {c: "P0128", m: "Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ø¨Ø±Ø¯ Ø£Ù‚Ù„ Ù…Ù† Ø§Ù„Ø­Ø¯", ca: "ØªØ±Ù…ÙˆØ³ØªØ§Øª Ù…ÙØªÙˆØ­", s: "ØªØºÙŠÙŠØ± Ø§Ù„ØªØ±Ù…ÙˆØ³ØªØ§Øª", b: "Hyundai", o: "Korean"},
            {c: "P0300", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ", ca: "Ù…Ù„ÙØ§Øª Ø¥Ø´Ø¹Ø§Ù„", s: "ÙØ­Øµ Ø§Ù„Ù…Ù„ÙØ§Øª", b: "Kia", o: "Korean"},
            {c: "P2187", m: "Ù†Ø¸Ø§Ù… Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ù…ÙˆÙ„", ca: "ØªØ³Ø±ÙŠØ¨ ÙØ±Ø§Øº", s: "ÙØ­Øµ Ø§Ù„Ù…Ø´Ø¹Ø¨", b: "SsangYong", o: "Korean"},
            {c: "P1606", m: "Ø·Ù„Ø¨ Ø¥Ù†Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ (MIL)", ca: "Ø¹Ø·Ù„ ECU", s: "ÙØ­Øµ ECU", b: "Hyundai", o: "Korean"}
        ];

        // 3. ØµÙŠÙ†ÙŠ (Chinese) - Geely, Chery, Haval, MG
        const chineseCodes = [
            {c: "P1607", m: "Ø®Ø·Ø£ ÙÙŠ Ø°Ø§ÙƒØ±Ø© ECU (Internal)", ca: "Ø¨Ø±Ù…Ø¬Ø©", s: "ÙÙ„Ø§Ø´ Ø¨Ø±Ø§Ù…Ø¬", b: "Geely", o: "Chinese"},
            {c: "P2187", m: "Ù†Ø¸Ø§Ù… Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹ Ø¹Ù†Ø¯ Ø§Ù„Ø®Ù…ÙˆÙ„", ca: "ØªØ³Ø±ÙŠØ¨ ÙØ±Ø§Øº", s: "ÙØ­Øµ Ø§Ù„Ù…Ø´Ø¹Ø¨", b: "Chery", o: "Chinese"},
            {c: "P050B", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø¨Ø§Ø±Ø¯ (Cold Start)", ca: "Ø´Ù…Ø¹Ø§Øª Ø£Ùˆ ÙˆÙ‚ÙˆØ¯", s: "ØªØºÙŠÙŠØ± Ø§Ù„Ø´Ù…Ø¹Ø§Øª", b: "MG", o: "Chinese"},
            {c: "P1112", m: "Ø­Ø³Ø§Ø³ Ø¯Ø±Ø¬Ø© Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ (IAT) Ø¹Ø§Ù„ÙŠ", ca: "ØªÙ…Ø§Ø³ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ", s: "ÙØ­Øµ Ø§Ù„Ø³Ù„Ùƒ", b: "Haval", o: "Chinese"},
            {c: "P0128", m: "Ø­Ø±Ø§Ø±Ø© Ù…Ø¨Ø±Ø¯ Ù…Ù†Ø®ÙØ¶Ø©", ca: "ØªØ±Ù…ÙˆØ³ØªØ§Øª", s: "ØªØºÙŠÙŠØ± Ø§Ù„ØªØ±Ù…ÙˆØ³ØªØ§Øª", b: "BYD", o: "Chinese"},
            {c: "P0300", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ", ca: "Ø´Ù…Ø¹Ø§ØªØŒ Ù…Ù„ÙØ§Øª", s: "Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ù„", b: "Geely", o: "Chinese"},
            {c: "P0171", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹", ca: "ØªØ³Ø±ÙŠØ¨ Ù‡ÙˆØ§Ø¡", s: "ÙØ­Øµ Ø§Ù„Ø®Ø±Ø§Ø·ÙŠÙ…", b: "Chery", o: "Chinese"},
            {c: "P0172", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ ØºÙ†ÙŠ Ø¬Ø¯Ø§Ù‹", ca: "Ø¶ØºØ· ÙˆÙ‚ÙˆØ¯", s: "ÙØ­Øµ Pump Ø§Ù„ÙˆÙ‚ÙˆØ¯", b: "Brilliance", o: "Chinese"},
            {c: "P0420", m: "ÙƒÙØ§Ø¡Ø© Ø§Ù„Ù…Ø­ÙØ§Ø² Ø¶Ø¹ÙŠÙØ©", ca: "Ø­Ø³Ø§Ø³ Ø£Ùˆ Ù…Ø­ÙØ§Ø²", s: "ÙØ­Øµ Ø§Ù„Ø¹Ø§Ø¯Ù…", b: "Chery", o: "Chinese"}
        ];

        // 4. ÙŠØ§Ø¨Ø§Ù†ÙŠ (Japanese) - Toyota, Honda, Nissan, Mazda
        const japaneseCodes = [
            {c: "P0171", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø¶Ø¹ÙŠÙ Ø¬Ø¯Ø§Ù‹", ca: "ØªØ³Ø±ÙŠØ¨ Ù‡ÙˆØ§Ø¡", s: "ÙØ­Øµ Ø®Ø±Ø§Ø·ÙŠÙ… Ø§Ù„ØªÙ‡ÙˆÙŠØ©", b: "Toyota", o: "Japanese"},
            {c: "P0172", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ ØºÙ†ÙŠ Ø¬Ø¯Ø§Ù‹", ca: "Ø­Ø³Ø§Ø³ MAF", s: "ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø³", b: "Lexus", o: "Japanese"},
            {c: "P0340", m: "Ø¥Ø´Ø§Ø±Ø© Ø­Ø³Ø§Ø³ Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠ", ca: "Ø­Ø³Ø§Ø³ CMP", s: "ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø³", b: "Nissan", o: "Japanese"},
            {c: "P0300", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ", ca: "Ø´Ù…Ø¹Ø§ØªØŒ Ù…Ù„ÙØ§Øª", s: "ÙØ­Øµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ù„", b: "Honda", o: "Japanese"},
            {c: "P2647", m: "Ø¹Ø·Ù„ Ù…Ø­Ø±Ùƒ VTEC", ca: "Ø¶ØºØ· Ø²ÙŠØª VTEC", s: "ÙØ­Øµ Ø³ÙˆÙ„ÙŠÙ†ÙˆÙŠØ¯ VTEC", b: "Honda", o: "Japanese"},
            {c: "P0440", m: "Ø¹Ø·Ù„ Ø¹Ø§Ù… ÙÙŠ Ù†Ø¸Ø§Ù… Evap", ca: "ØºØ·Ø§Ø¡ Ø¨Ù†Ø²ÙŠÙ†ØŒ Ø®Ø±Ø·ÙˆÙ…", s: "ÙØ­Øµ Ø§Ù„Ù†Ø¸Ø§Ù…", b: "Toyota", o: "Japanese"},
            {c: "P0446", m: "ØµÙ…Ø§Ù… ØªÙ‡ÙˆÙŠØ© Evap Ù…Ø´ØºÙˆÙ„ Ø·ÙˆÙŠÙ„Ø§Ù‹", ca: "ØµÙ…Ø§Ù… VSV", s: "ÙØ­Øµ Ø§Ù„ØµÙ…Ø§Ù…", b: "Toyota", o: "Japanese"},
            {c: "P0128", m: "Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ù…Ø¨Ø±Ø¯ Ù…Ù†Ø®ÙØ¶Ø©", ca: "ØªØ±Ù…ÙˆØ³ØªØ§Øª", s: "ØªØºÙŠÙŠØ± Ø§Ù„ØªØ±Ù…ÙˆØ³ØªØ§Øª", b: "Toyota", o: "Japanese"},
            {c: "P0174", m: "Ù†Ø¸Ø§Ù… Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø¶Ø¹ÙŠÙ (Bank 2)", ca: "ØªØ³Ø±ÙŠØ¨ Ù‡ÙˆØ§Ø¡", s: "ÙØ­Øµ Ø§Ù„ÙØ±Ø§Øº", b: "Mazda", o: "Japanese"},
            {c: "P0365", m: "Ø¥Ø´Ø§Ø±Ø© Ø­Ø³Ø§Ø³ Ù…ÙˆØ¶Ø¹ Ø§Ù„ÙƒØ§Ù…Ø´ÙØª B", ca: "Ø­Ø³Ø§Ø³ CMP", s: "ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø³", b: "Nissan", o: "Japanese"},
            {c: "P0301", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø£Ø³Ø·ÙˆØ§Ù†Ø© 1", ca: "Ù…Ù„Ù Ø¥Ø´Ø¹Ø§Ù„", s: "ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù", b: "Honda", o: "Japanese"}
        ];

        // 5. Ø£Ù„Ù…Ø§Ù†ÙŠ (German) - BMW, Mercedes, VW, Audi
        const germanCodes = [
            {c: "P0017", m: "Ø¹Ø¯Ù… ØªØ·Ø§Ø¨Ù‚ Ù…ÙˆØ¶Ø¹ Ø§Ù„Ø¹Ù…ÙˆØ¯ Ø§Ù„Ù…Ø±ÙÙ‚ÙŠ/Ø§Ù„Ø­Ø¯Ø§ÙØ©", ca: "ØªÙˆÙ‚ÙŠØª Ø§Ù„ÙƒØ§Ù…Ø§Øª (Vanos)", s: "ÙØ­Øµ Ø³Ù„Ø³Ù„Ø© Ø§Ù„ØªÙˆÙ‚ÙŠØª", b: "BMW", o: "German"},
            {c: "P0299", m: "Ø¶ØºØ· Ø§Ù„ØªÙŠØ±Ø¨Ùˆ Ù…Ù†Ø®ÙØ¶", ca: "ØªÙˆØ±Ø¨ÙŠÙ† ØªØ§Ù„ÙØŒ Ø£Ù†Ø§Ø¨ÙŠØ¨ Ù…ÙØµÙˆÙ„Ø©", s: "ÙØ­Øµ Ø§Ù„ØªÙŠØ±Ø¨Ùˆ", b: "VW/Audi", o: "German"},
            {c: "P2002", m: "ÙÙ„ØªØ± Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª (DPF) ÙƒÙØ§Ø¡ØªÙ‡ ØªØ­Øª Ø§Ù„Ø­Ø¯", ca: "ØªÙ†Ø¸ÙŠÙ Ø£Ùˆ ØªØºÙŠÙŠØ± DPF", s: "Regeneration", b: "Mercedes", o: "German"},
            {c: "P0305", m: "Ø¥Ø´Ø¹Ø§Ù„ Ø£Ø³Ø·ÙˆØ§Ù†Ø© 5", ca: "Ù…Ù„Ù Coil Ø±Ù‚Ù… 5", s: "ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„Ù", b: "BMW", o: "German"},
            {c: "P0411", m: "ØªØ¯ÙÙ‚ Ù‡ÙˆØ§Ø¡ Ø«Ø§Ù†ÙˆÙŠ ØºÙŠØ± ØµØ­ÙŠØ­", ca: "Ù…Ø¶Ø®Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©", s: "ÙØ­Øµ Ø§Ù„Ù…Ø¶Ø®Ø© ÙˆØ§Ù„ØµÙ…Ø§Ù…Ø§Øª", b: "Audi", o: "German"},
            {c: "P0456", m: "ØªØ³Ø±ÙŠØ¨ ØµØºÙŠØ± Ø¬Ø¯Ø§Ù‹ ÙÙŠ Ù†Ø¸Ø§Ù… Evap", ca: "ØºØ·Ø§Ø¡ Ø¨Ù†Ø²ÙŠÙ†", s: "ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ØºØ·Ø§Ø¡", b: "Mercedes", o: "German"},
            {c: "P0500", m: "Ø­Ø³Ø§Ø³ Ø³Ø±Ø¹Ø© Ø§Ù„Ø³ÙŠØ§Ø±Ø©", ca: "Ø­Ø³Ø§Ø³ ABS/Speed", s: "ÙØ­Øµ Ø§Ù„Ø­Ø³Ø§Ø³", b: "VW", o: "German"},
            {c: "P069E", m: "Ø·Ù„Ø¨ ØªØ´ØºÙŠÙ„ Ø¥Ø¶Ø§Ø¡Ø© Ø§Ù„Ù…Ø­Ø±Ùƒ", ca: "ECU fault", s: "ÙØ­Øµ Ø§Ù„Ù€ ECU", b: "BMW", o: "German"}
        ];

        // Ø¯Ù…Ø¬ ÙƒÙ„ Ø§Ù„Ù…ØµÙÙˆÙØ§Øª ÙÙŠ Ù…ØµÙÙˆÙØ© ÙˆØ§Ø­Ø¯Ø©
        const specificCodes = [
            ...americanCodes, ...koreanCodes, ...chineseCodes, ...japaneseCodes, ...germanCodes
        ];

        // Ø¥Ø¶Ø§ÙØªÙ‡Ø§ Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        specificCodes.forEach(item => {
            addCode(item.c, item.m, item.ca, item.s, item.b, item.o);
        });

        // ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¹Ø§Ù…Ø© (Global Standards) Ù„Ù„Ø¨Ø­Ø« ÙÙ‚Ø·
        // Ù„Ù† Ù†Ø¸Ù‡Ø±Ù‡Ø§ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ÙØµÙ†Ù‘Ù
        for (let i = 100; i <= 799; i++) {
            let sys = "Ù†Ø¸Ø§Ù… Ø¹Ø§Ù…";
            if(i >= 100 && i <= 199) sys = "Ù‚ÙŠØ§Ø³ Ø§Ù„Ù‡ÙˆØ§Ø¡ ÙˆØ§Ù„ÙˆÙ‚ÙˆØ¯";
            if(i >= 300 && i <= 399) sys = "Ù†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø´Ø¹Ø§Ù„";
            if(i >= 400 && i <= 499) sys = "Ø§Ù†Ø¨Ø¹Ø§Ø«Ø§Øª Ø§Ù„Ø³ÙŠØ§Ø±Ø©";
            if(i >= 700 && i <= 799) sys = "Ù†Ø§Ù‚Ù„ Ø§Ù„Ø­Ø±ÙƒØ©";

            let codeStr = "P" + i;
            if (!specificCodes.some(x => x.c === codeStr)) {
                // Ù†Ø®Ø²Ù†Ù‡Ø§ Ø¨Ù€ "All" Ù„ØªØ¸Ù‡Ø± ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø¹Ø§Ù…ØŒ ÙˆÙ„ÙŠØ³ ÙÙŠ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª Ø§Ù„Ø®Ø§ØµØ©
                addCode(codeStr, "Ø¹Ø·Ù„ ÙÙŠ " + sys, "Ø¯Ø§Ø¦Ø±Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© Ø¹Ø§Ù…Ø©", "ÙØ­Øµ Ø§Ù„Ø¯ÙˆØ§Ø¦Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©", "Generic SAE", "All");
            }
        }

        /* ==========================================
           2. Ù…Ù†Ø·Ù‚ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ø¹Ø±Ø¶
           ========================================== */
        function searchCode() {
            const input = document.getElementById('codeInput').value.trim().toUpperCase();
            const errorMsg = document.getElementById('errorMsg');
            const resultCard = document.getElementById('resultCard');
            const aiLoading = document.getElementById('aiLoading');

            if (!input) return;
            
            resultCard.classList.remove('active');
            errorMsg.style.display = 'none';

            const result = fullDatabase.find(c => c.code === input);

            if (result) {
                document.getElementById('resCode').textContent = result.code;
                document.getElementById('resBrand').textContent = result.brand;
                document.getElementById('resMeaning').textContent = result.meaning;
                document.getElementById('resCause').textContent = result.cause;
                document.getElementById('resSolution').textContent = result.solution;
                resultCard.classList.add('active');
            } else {
                errorMsg.innerHTML = `Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙˆØ¯ <b>${input}</b> ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.`;
                errorMsg.style.display = 'block';
            }
        }

        function aiAnalyze() {
            const input = document.getElementById('codeInput').value.trim().toUpperCase();
            const aiLoading = document.getElementById('aiLoading');
            const resultCard = document.getElementById('resultCard');
            const errorMsg = document.getElementById('errorMsg');

            if (!input) { alert("Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø£ÙˆÙ„Ø§Ù‹"); return; }
            
            resultCard.classList.remove('active');
            errorMsg.style.display = 'none';
            aiLoading.style.display = 'block';

            setTimeout(() => {
                aiLoading.style.display = 'none';
                const result = fullDatabase.find(c => c.code === input);
                if (result) {
                    document.getElementById('resCode').textContent = result.code + " (AI Verified)";
                    document.getElementById('resBrand').textContent = result.brand + " - ØªÙ… Ø§Ù„ØªØ­Ù‚Ù‚";
                    document.getElementById('resMeaning').textContent = result.meaning;
                    document.getElementById('resCause').textContent = result.cause;
                    document.getElementById('resSolution').textContent = result.solution + ". [AI Tip]: ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªÙˆØµÙŠÙ„Ø§Øª Ù‚Ø¨Ù„ ØªØºÙŠÙŠØ± Ø§Ù„Ù‚Ø·Ø¹.";
                    resultCard.classList.add('active');
                } else {
                     document.getElementById('resCode').textContent = input;
                    document.getElementById('resBrand').textContent = "Unknown / Generic";
                    document.getElementById('resMeaning').textContent = "ÙƒÙˆØ¯ ØºÙŠØ± Ù…ÙˆØ«Ù‚ØŒ ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ù‡ Ø®Ø§Øµ Ø¨Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…ØµÙ†Ø¹Ø©.";
                    document.getElementById('resCause').textContent = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ Ø¨Ø¯Ù‚Ø©.";
                    document.getElementById('resSolution').textContent = "ÙŠØ±Ø¬Ù‰ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„ÙˆØ±Ø´Ø© Ø§Ù„Ù…Ø®ØªØµØ© Ù„Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯.";
                    resultCard.classList.add('active');
                }
            }, 1500);
        }

        /* ==========================================
           3. Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø­Ø³Ø§Ø¨ (Calculators)
           ========================================== */
        function calcEngineCC() {
            const bore = parseFloat(document.getElementById('bore').value);
            const stroke = parseFloat(document.getElementById('stroke').value);
            const cylinders = parseFloat(document.getElementById('cylinders').value);
            const resBox = document.getElementById('resEngine');
            if (!bore || !stroke || !cylinders) return;
            const radius = bore / 2;
            const totalVolume = (Math.PI * Math.pow(radius, 2) * stroke * cylinders) / 1000;
            resBox.innerHTML = `<strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> ${totalVolume.toFixed(0)} CC`;
            resBox.classList.add('active');
        }

        function calcFuel() {
            const km = parseFloat(document.getElementById('kmDriven').value);
            const liters = parseFloat(document.getElementById('litersFilled').value);
            const resBox = document.getElementById('resFuel');
            if (!km || !liters) return;
            const kmPerLiter = km / liters;
            const litersPer100km = (liters / km) * 100;
            resBox.innerHTML = `<strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> ${kmPerLiter.toFixed(1)} ÙƒÙ…/Ù„ØªØ± | ${litersPer100km.toFixed(1)} Ù„ØªØ±/100ÙƒÙ…`;
            resBox.classList.add('active');
        }

        function calcTire() {
            const input = document.getElementById('tireSize').value;
            const resBox = document.getElementById('resTire');
            const match = input.match(/(\d{2,3})\/(\d{2,3})[Rr](\d{2,3})/);
            if (!match) {
                resBox.innerHTML = "Ø§Ù„ØµÙŠØºØ© ØºÙŠØ± ØµØ­ÙŠØ­Ø© (Ù…Ø«Ø§Ù„: 205/55 R16)";
                resBox.classList.add('active');
                return;
            }
            const width = parseInt(match[1]);
            const profile = parseInt(match[2]);
            const rim = parseInt(match[3]);
            const diameterMM = (rim * 25.4) + ((width * profile / 100) * 2);
            const circumferenceCM = (diameterMM * Math.PI) / 10;
            resBox.innerHTML = `<strong>Ø§Ù„Ù…Ø­ÙŠØ·:</strong> ${circumferenceCM.toFixed(0)} Ø³Ù… | <strong>Ø§Ù„Ù‚Ø·Ø±:</strong> ${(diameterMM/25.4).toFixed(1)} Ø¨ÙˆØµØ©`;
            resBox.classList.add('active');
        }

        /* ==========================================
           4. Ø§Ù„Ø¬Ø¯ÙˆÙ„ (Logic)
           ========================================== */
        function renderTable(filterOrigin = 'all') {
            const tbody = document.getElementById('tableBody');
            tbody.innerHTML = '';
            
            // Ø§Ù„ÙÙ„ØªØ±Ø© ØªØ¨Ø­Ø« ÙÙ‚Ø· ÙÙŠ specificCodes ÙˆÙ„ÙŠØ³ ÙÙŠ Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ®Ù„ÙŠØ·
            let data = specificCodes;

            if (filterOrigin !== 'all') {
                data = specificCodes.filter(item => item.o === filterOrigin);
            }

            if(data.length === 0) {
                tbody.innerHTML = '<tr><td colspan="3" style="text-align:center;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£ÙƒÙˆØ§Ø¯ Ù…Ø®ØµØµØ© Ù„Ù‡Ø°Ù‡ Ø§Ù„ÙØ¦Ø© ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©.</td></tr>';
                return;
            }

            data.forEach(item => {
                tbody.innerHTML += `
                    <tr onclick="document.getElementById('codeInput').value='${item.c}'; searchCode();">
                        <td style="color:var(--primary); font-weight:bold; font-size:1.1rem;">${item.c}</td>
                        <td>${item.m}</td>
                        <td style="color:var(--text-dim); font-size:0.8rem;">${item.b}</td>
                    </tr>
                `;
            });
        }

        function filterTable(origin, btn) {
            document.querySelectorAll('.tabs .btn').forEach(b => b.classList.remove('active'));
            // Ø¥Ø¶Ø§ÙØ© Ø³ØªØ§ÙŠÙ„ Ø¨Ø³ÙŠØ· Ù„Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø·
            btn.style.background = 'var(--primary)';
            btn.style.color = '#000';
            renderTable(origin);
        }

        window.onload = function() {
            renderTable();
        };
        
        document.getElementById('codeInput').addEventListener('keyup', function(e) {
            if(e.key === 'Enter') searchCode();
        });

    </script>

</body></html>
